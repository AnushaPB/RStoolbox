<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Extract validation results from superClass objects"><title>Extract validation results from superClass objects — getValidation • RStoolbox</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract validation results from superClass objects — getValidation"><meta property="og:description" content="Extract validation results from superClass objects"><meta property="og:image" content="https://bleutner.github.io/RStoolbox/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">RStoolbox</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="http://www.github.com/bleutner">
    <span class="fa fa-github fa-lg fab"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Extract validation results from superClass objects</h1>
      <small class="dont-index">Source: <a href="https://github.com/bleutner/RStoolbox/blob/HEAD/R/getValidation.R" class="external-link"><code>R/getValidation.R</code></a></small>
      <div class="d-none name"><code>getValidation.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extract validation results from superClass objects</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getValidation</span><span class="op">(</span><span class="va">x</span>, from <span class="op">=</span> <span class="st">"testset"</span>, metrics <span class="op">=</span> <span class="st">"overall"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>superClass object or caret::confusionMatrix</p></dd>


<dt>from</dt>
<dd><p>Character. 'testset' extracts the results from independent validation with testset. 'cv' extracts cross-validation results.</p></dd>


<dt>metrics</dt>
<dd><p>Character. Only relevant in classification mode (ignored for regression models). 
Select 'overall' for overall accuracy metrics, 'classwise' for classwise metrics, 
'confmat' for the confusion matrix itself and 'caret' to return the whole caret::confusionMatrix object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Returns a data.frame with validation results. 
If metrics = 'confmat' or 'caret' will return a table or the full caret::confusionMatrix object, respectively.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/khliland/pls" class="external-link">pls</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘pls’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:caret’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     R2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:stats’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     loadings</span>
<span class="r-in"><span><span class="co">## Fit classifier (splitting training into 70\% training data, 30\% validation data)</span></span></span>
<span class="r-in"><span><span class="va">train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/serialize.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"external/trainingPoints_rlogo.rds"</span>, package<span class="op">=</span><span class="st">"RStoolbox"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">SC</span>   <span class="op">&lt;-</span> <span class="fu"><a href="superClass.html">superClass</a></span><span class="op">(</span><span class="va">rlogo</span>, trainData <span class="op">=</span> <span class="va">train</span>, responseCol <span class="op">=</span> <span class="st">"class"</span>,</span></span>
<span class="r-in"><span>                    model<span class="op">=</span><span class="st">"pls"</span>, trainPartition <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Independent testset-validation</span></span></span>
<span class="r-in"><span><span class="fu">getValidation</span><span class="op">(</span><span class="va">SC</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model validation  Accuracy     Kappa AccuracyLower AccuracyUpper AccuracyNull</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   pls    testset 0.8888889 0.8333333     0.5175035     0.9971909    0.3333333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AccuracyPValue McnemarPValue</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0.0009653           NaN</span>
<span class="r-in"><span><span class="fu">getValidation</span><span class="op">(</span><span class="va">SC</span>, metrics <span class="op">=</span> <span class="st">"classwise"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model validation class Sensitivity Specificity Pos.Pred.Value Neg.Pred.Value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   pls    testset     A   1.0000000   0.8333333           0.75      1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   pls    testset     B   0.6666667   1.0000000           1.00      0.8571429</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   pls    testset     C   1.0000000   1.0000000           1.00      1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Precision    Recall        F1 Prevalence Detection.Rate Detection.Prevalence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0.75 1.0000000 0.8571429  0.3333333      0.3333333            0.4444444</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      1.00 0.6666667 0.8000000  0.3333333      0.2222222            0.2222222</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      1.00 1.0000000 1.0000000  0.3333333      0.3333333            0.3333333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Balanced.Accuracy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         0.9166667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         0.8333333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         1.0000000</span>
<span class="r-in"><span><span class="co">## Cross-validation based </span></span></span>
<span class="r-in"><span><span class="fu">getValidation</span><span class="op">(</span><span class="va">SC</span>, from <span class="op">=</span> <span class="st">"cv"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model validation  Accuracy     Kappa AccuracyLower AccuracyUpper AccuracyNull</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   pls         cv 0.8571429 0.7857143      0.636576      0.969511    0.3333333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AccuracyPValue McnemarPValue</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1.101588e-06           NaN</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benjamin Leutner, Ned Horning, Jakob Schwalb-Willmann, Konstantin Mueller.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

